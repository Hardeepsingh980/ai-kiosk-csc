(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{9467:(e,t,s)=>{Promise.resolve().then(s.bind(s,3938))},3938:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(5155),r=s(2115),a=s(4432),c=s.n(a),o=s(3831),i=s(7156),l=s(6164),d=s(1290),u=s(1027),f=s(3463),m=s(9795);function h(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}function g(e){return e.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric"})}let x=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=r.forwardRef((e,t)=>{let{className:s,variant:r,size:a,asChild:c=!1,...o}=e,i=c?d.DX:"button";return(0,n.jsx)(i,{className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,m.QP)((0,f.$)(t))}(x({variant:r,size:a,className:s})),ref:t,...o})});function v(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),[x,v]=(0,r.useState)(["How I can help you"]),b=(0,r.useRef)(),[y,j]=(0,r.useState)(h(new Date)),[N,w]=(0,r.useState)(g(new Date)),[k]=(0,r.useState)(()=>new(c())("605f8c7c-24aa-423a-a24a-53a20896116b")),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=()=>{console.log("Call started"),a(!0),m(!0),v(e=>["I'm listening...",...e.slice(0,2)])},s=()=>{console.log("Call ended"),a(!1),u(!1),m(!1),v(["How I can help you"]),clearTimeout(b.current)},n=()=>{console.log("Speech started"),a(!0),u(!1)},r=()=>{console.log("Speech ended"),a(!1),u(!0)},c=e=>{console.log("Message received",e),"assistant"===e.role&&"transcript"===e.type&&(clearTimeout(b.current),b.current=setTimeout(()=>{f&&(k.stop(),a(!1),u(!1),m(!1),t(!1),v(["How I can help you"]))},5e3),"final"===e.transcriptType&&(v(t=>[e.transcript,...t.slice(0,2)]),setTimeout(()=>{v(t=>t[0]===e.transcript?["How I can help you",...t.slice(1)]:t)},3e3)))},o=e=>{console.error("Error received: ".concat(e.message)),"Meeting has ended"===e.message&&(a(!1),u(!1),v(["How I can help you"]))};return k.on("call-start",e),k.on("call-end",s),k.on("speech-start",n),k.on("speech-end",r),k.on("message",c),k.on("error",o),()=>{k.off("call-start",e),k.off("call-end",s),k.off("speech-start",n),k.off("speech-end",r),k.off("message",c),k.off("error",o)}},[k]),(0,r.useEffect)(()=>{let e=setInterval(()=>{let e=new Date;j(h(e)),w(g(e))},1e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{S.current&&(s?S.current.src="/assistant.gif?t="+new Date().getTime():S.current.src="/assistant.png")},[s]);let I=async()=>{console.log("Starting connection"),t(!0);try{await k.start("3c7f64b9-b77b-4fa5-9c1a-69bc51070119")}catch(e){console.error("Connection failed:",e),t(!1)}};return(0,n.jsxs)("div",{className:"flex flex-col h-screen bg-white",children:[(0,n.jsxs)("header",{className:"p-4 flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"text-gray-600",children:[(0,n.jsx)("div",{className:"text-lg font-medium",children:y}),(0,n.jsx)("div",{className:"text-sm",children:N})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,n.jsx)(o.A,{size:16,className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"+91 6283747626"})]}),(0,n.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,n.jsx)(o.A,{size:16,className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"+91 6283747627"})]})]})]}),(0,n.jsxs)("main",{className:"flex-1 flex flex-col items-center justify-between p-6",children:[(0,n.jsxs)("div",{className:"text-center mb-8 mt-8",children:[(0,n.jsx)("h2",{className:"text-gray-400 text-xl font-light",children:"Hello,"}),(0,n.jsx)("div",{className:"space-y-2",children:x.map((e,t)=>(0,n.jsx)("h1",{className:"text-2xl font-bold ".concat(t>0?"text-lg opacity-75":""),children:e},t))})]}),(0,n.jsx)("div",{className:"my-8",children:(0,n.jsx)(p,{onClick:s?()=>{console.log("Stopping to listen"),k.stop()}:I,className:"rounded-full w-16 h-16 flex items-center justify-center relative ".concat(s?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-orange-500 hover:bg-orange-600"),children:d?(0,n.jsx)("div",{className:"animate-spin",children:(0,n.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}):s?(0,n.jsx)(i.A,{size:24}):(0,n.jsx)(l.A,{size:24})})}),(0,n.jsx)("div",{className:"mt-auto w-full flex justify-center",children:(0,n.jsx)("img",{ref:S,src:"/assistant.gif",alt:"AI Assistant",className:"max-h-[60vh] object-contain"})})]})]})}p.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[424,163,255,441,517,358],()=>t(9467)),_N_E=e.O()}]);